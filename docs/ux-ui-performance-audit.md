# UX/UI + Performance аудит

Дата: 2026-02-24

## Что проверено
- Структура UI5-приложения (`manifest.json`, `Component.js`, views/controllers, CSS).
- Базовые sanity-checks конфигурации/разметки.

## Выполненные проверки
1. `python -m json.tool manifest.json` — валидность `manifest.json`.
2. `python - <<'PY' ...` — парсинг всех XML view файлов через `xml.etree.ElementTree`.

## Ключевые зоны роста (приоритет)

### P1 — Критично для UX
1. **Пустая таблица после первичной загрузки**  
   После `getCheckLists()` в модель записывается `checkLists`, но `visibleCheckLists` принудительно ставится в пустой массив. Пользователь видит пустую таблицу до ручного нажатия Search.  
   **Файлы:** `Component.js`, `view/Search.view.xml`.

2. **Неполная локализация и смешение языков**  
   В интерфейсе есть захардкоженные строки (`Save`, `Cancel`, `Add row`, `Reset`, `Edit mode`, и др.) рядом с `i18n`-строками. Это ухудшает консистентность UX и усложняет масштабирование на новые локали.  
   **Файлы:** `view/Search.view.xml`, `view/Detail.view.xml`, `view/Object.view.xml`.

3. **Слабая доступность фильтров (a11y)**  
   У полей фильтра на Search-экране отсутствуют явные `Label`/`aria`-подсказки; reliance на placeholder ухудшает доступность (screen readers, когнитивная нагрузка).
   **Файл:** `view/Search.view.xml`.

### P2 — Существенно для производительности
4. **Тяжёлые визуальные эффекты в большом количестве**  
   Много `backdrop-filter`, blur и сложных градиентов (в том числе на таблицах и карточках) + hover-трансформации строк таблицы. На слабых GPU/тонких клиентах это может вызывать jank при скролле и interactions.  
   **Файл:** `css/style.css`.

5. **Нет признаков оптимизации рендеринга для больших таблиц**  
   `sap.m.Table` в Search без `growing`/пагинации/ограничения initial load — при росте данных возможны просадки responsiveness и увеличенное время first-interaction.
   **Файл:** `view/Search.view.xml`.

### P3 — Качество взаимодействия
6. **Неочевидный сценарий Copy**  
   `onCopy` копирует первый элемент из `visibleCheckLists`, а не выбранный пользователем элемент. Это может восприниматься как баг/непредсказуемое поведение.  
   **Файл:** `controller/Search.controller.js`.

7. **Состояния загрузки/ошибок можно усилить**  
   Есть `busy`/`MessageStrip`, но не хватает action-oriented recovery (например, Retry рядом с ошибкой) и empty-state с CTA.
   **Файлы:** `Component.js`, `view/Search.view.xml`.

---

## Рекомендованный план улучшений

### Быстрые wins (1–2 дня)
- После загрузки сразу заполнять `visibleCheckLists` тем же массивом, что и `checkLists`.
- Вынести все строки в i18n.
- Добавить `Label` для фильтров и понятные подписи сегментов/кнопок.
- Для таблицы Search включить `growing="true"` и `growingThreshold`.

### Среднесрочно (3–5 дней)
- Пересобрать стили с более лёгким профилем для low-end устройств: снизить blur/shadow, сократить количество `!important`, добавить reduced-motion режим.
- Переработать Copy-сценарий: копировать выбранную строку и явно показывать, что будет скопировано.
- Добавить Retry-флоу на ошибках загрузки.

### Долгосрочно
- UX-метрики: время до первого meaningful list render, input latency при фильтрах, scroll FPS.
- Перф-бюджет по CSS-эффектам и table interactions.

## Предлагаемые KPI после доработок
- **TTI Search**: -20% на средних устройствах.
- **Ошибки пользовательских действий (Copy/Search)**: -30%.
- **Task success rate** (найти чеклист + открыть детали): +15%.
