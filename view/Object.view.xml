<mvc:View
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  xmlns:core="sap.ui.core"
  controllerName="sap_ui5.controller.Object">

  <Page showHeader="false" busy="{state>/isBusy}">
    <VBox class="pagePadding">

      <HBox class="glassHero">
        <Title text="{data>/object/root/id}"/>
        <ToolbarSpacer/>
        <Switch state="{= ${state>/mode} === 'EDIT' }"
                change=".onToggleEdit"/>
      </HBox>

      <HBox class="sapUiTinyMarginBottom" justifyContent="End">
        <Button text="{i18n>objectSave}"
                type="Emphasized"
                press=".onSave"
                visible="{= ${state>/mode}==='EDIT'}"
                class="sapUiTinyMarginEnd"/>
        <Button text="{i18n>objectCancel}" press=".onCancel"/>
      </HBox>

      <VBox class="glassSurface blockCard">
        <Label text="Date"/>
        <DatePicker value="{data>/object/basic/date}"
                    editable="{= ${state>/mode}==='EDIT'}"/>

        <Label text="Timezone"/>
        <Select items="{ref>/timezones}"
                selectedKey="{data>/object/basic/timezone}"
                enabled="{= ${state>/mode}==='EDIT'}">
          <core:Item key="{ref>key}" text="{ref>text}"/>
        </Select>
      </VBox>

      <VBox class="glassSurface blockCard">
        <Title text="Checks"/>

        <Table items="{data>/object/checks}">
          <columns>
            <Column><Text text="No"/></Column>
            <Column><Text text="Text"/></Column>
            <Column><Text text="Result"/></Column>
          </columns>

          <items>
            <ColumnListItem>
              <cells>
                <Text text="{data>no}"/>
                <Text text="{data>text}"/>
                <Switch state="{data>result}"
                        enabled="{= ${state>/mode}==='EDIT'}"/>
              </cells>
            </ColumnListItem>
          </items>
        </Table>
      </VBox>

    </VBox>
  </Page>
</mvc:View>
