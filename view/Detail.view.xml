<mvc:View
    controllerName="sap_ui5.controller.Detail"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:form="sap.ui.layout.form">

    <Page showHeader="false" class="pageTransparent">

        <VBox class="appContent detailContent">

            <HBox justifyContent="End" class="sapUiTinyMarginBottom" alignItems="Center" renderType="Bare">
                <Button
                    text="Save"
                    type="Emphasized"
                    visible="{= ${state>/mode} === 'EDIT' }"
                    press=".onSaveDetail"
                    class="sapUiTinyMarginEnd"/>
                <Button
                    text="Cancel"
                    visible="{= ${state>/mode} === 'EDIT' }"
                    press=".onCancelEditFromDetail"
                    class="sapUiTinyMarginEnd"/>
                <Label text="Edit mode" class="sapUiTinyMarginEnd"/>
                <Switch
                    state="{= ${state>/mode} === 'EDIT' }"
                    change=".onToggleEditFromDetail"
                    class="sapUiTinyMarginEnd"/>
                <Button
                    icon="sap-icon://decline"
                    type="Transparent"
                    tooltip="Close details"
                    press=".onCloseDetail"/>
            </HBox>

            <VBox class="glassCard">
                <Title text="Basic Information"/>
                <form:SimpleForm
                    editable="true"
                    layout="ResponsiveGridLayout"
                    columnsL="2"
                    columnsM="2">

                    <Label text="Date"/>
                    <Input value="{selected>/basic/date}" editable="{= ${state>/mode} === 'EDIT' }"/>

                    <Label text="Equipment"/>
                    <Input value="{selected>/basic/equipment}" editable="{= ${state>/mode} === 'EDIT' }"/>

                    <Label text="LPC"/>
                    <Input value="{selected>/basic/LPC_TEXT}" editable="{= ${state>/mode} === 'EDIT' }"/>

                </form:SimpleForm>
            </VBox>

            <VBox class="glassCard">
                <Toolbar class="toolbarTransparent">
                    <Title text="Checks"/>
                    <ToolbarSpacer/>
                    <Button
                        text="Add row"
                        press=".onAddCheckRow"
                        visible="{= ${state>/mode} === 'EDIT' }"/>
                </Toolbar>
                <Table items="{selected>/checks}" class="glassTable roundedTable">
                    <columns>
                        <Column><Text text="Check"/></Column>
                        <Column><Text text="Status"/></Column>
                    </columns>
                    <items>
                        <ColumnListItem>
                            <cells>
                                <Input value="{selected>text}" editable="{= ${state>/mode} === 'EDIT' }"/>
                                <Switch state="{selected>result}" enabled="{= ${state>/mode} === 'EDIT' }"/>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </VBox>

            <VBox class="glassCard">
                <Toolbar class="toolbarTransparent">
                    <Title text="Barriers"/>
                    <ToolbarSpacer/>
                    <Button
                        text="Add row"
                        press=".onAddBarrierRow"
                        visible="{= ${state>/mode} === 'EDIT' }"/>
                </Toolbar>
                <Table items="{selected>/barriers}" class="glassTable roundedTable">
                    <columns>
                        <Column><Text text="Barrier"/></Column>
                        <Column><Text text="Status"/></Column>
                    </columns>
                    <items>
                        <ColumnListItem>
                            <cells>
                                <Input value="{selected>text}" editable="{= ${state>/mode} === 'EDIT' }"/>
                                <Switch state="{selected>result}" enabled="{= ${state>/mode} === 'EDIT' }"/>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </VBox>

        </VBox>

    </Page>
</mvc:View>
