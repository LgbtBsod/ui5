/*!
 * OpenUI5
 * (c) Copyright 2026 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./Column","./utils/TableUtils","./extensions/ExtensionBase","sap/ui/core/Renderer","sap/ui/core/library","sap/ui/Device","sap/base/Log"],function(e,t,n,o,s,a,l){"use strict";const i=s.SortOrder;const r={Begin:"flex-start",End:"flex-end",Left:undefined,Right:undefined,Center:"center"};const d=t.Hook.Keys.TableRenderer;const c={apiVersion:2};c.render=function(e,t){delete t._iHeaderRowCount;r.Left=t._bRtlMode?"flex-end":"flex-start";r.Right=t._bRtlMode?"flex-start":"flex-end";e.openStart("div",t);this._decorateRootElement(e,t);e.openEnd();this.renderTabElement(e,{className:"sapUiTableOuterBefore"});this._renderTopSection(e,t);this._renderMainSection(e,t);this._renderBottomSection(e,t);this.renderTabElement(e,{className:"sapUiTableOuterAfter"});e.close("div")};c._decorateRootElement=function(e,n){e.class("sapUiTable");this._addBrowserSpecificClasses(e);this._addTableStateClasses(e,n);this._addDeprecatedClasses(e,n);if(n._bFirstRendering){e.class("sapUiTableNoOpacity")}e.style("width",n.getWidth());t.Hook.call(n,d.RenderTableStyles,e)};c._addBrowserSpecificClasses=function(e){if(a.browser.chrome&&window.devicePixelRatio<1){e.class("sapUiTableZoomout")}if("ontouchstart"in document){e.class("sapUiTableTouch")}};c._addTableStateClasses=function(e,n){e.class("sapUiTableSelMode"+n.getSelectionMode());if(n.getColumnHeaderVisible()){e.class("sapUiTableCHdr")}if(t.hasRowHeader(n)){e.class("sapUiTableRowSelectors")}if(t.hasRowHighlights(n)){e.class("sapUiTableRowHighlights")}if(t.isNoDataVisible(n)&&!n._isWaitingForData()){e.class("sapUiTableEmpty")}if(n.getShowOverlay()){e.class("sapUiTableOverlay")}const o=n._getScrollExtension();if(o.isVerticalScrollbarRequired()&&!o.isVerticalScrollbarExternal()){e.class("sapUiTableVScr")}this._addRowActionClasses(e,n);const s=t.Grouping.getModeCssClass(n);if(s){e.class(s)}};c._addRowActionClasses=function(e,n){if(t.hasRowActions(n)){e.class("sapUiTableRAct");switch(n.getRowActionCount()){case 1:e.class("sapUiTableRActS");break;case 2:e.class("sapUiTableRActM");break;default:e.class("sapUiTableRActL")}}if(t.hasRowNavigationIndicators(n)){e.class("sapUiTableRowNavIndicator")}};c._addDeprecatedClasses=function(e,n){try{const n=t._getTableTemplateHelper(true).addTableClass();if(n){e.class(n)}}catch(e){}if(n.getEditable&&n.getEditable()){e.class("sapUiTableEdt")}};c._renderTopSection=function(e,t){e.openStart("div",t.getId()+"-before");e.class("sapUiTableBefore");e.openEnd();e.renderControl(t.getAggregation("_messageStrip"));this.renderHeader(e,t);this.renderToolbar(e,t);this.renderExtensions(e,t);e.close("div")};c._renderMainSection=function(e,t){const n=t._getAccRenderExtension();const o=t.getRows().length||t.getColumnHeaderVisible();e.openStart("div",t.getId()+"-sapUiTableCnt");e.class("sapUiTableCnt");e.attr("data-sap-ui-fastnavgroup","true");e.attr("data-sap-ui-pasteregion","true");e.openEnd();if(!t._getScrollExtension().isVerticalScrollbarExternal()){this.renderVSb(e,t)}this.renderTabElement(e,{className:"sapUiTableCtrlBefore",tabIndex:o?"0":"-1"});e.openStart("div",t.getId()+"-sapUiTableGridCnt");n.writeAriaAttributesFor(e,t,"Content");e.openEnd();this.renderColumnResizer(e,t);this.renderColumnHeader(e,t);this.renderTable(e,t);e.close("div");this.renderTabElement(e,{className:"sapUiTableCtrlAfter",tabIndex:o?"0":"-1"});this.renderTabElement(e,{tabIndex:"-1",id:t.getId()+"-focusDummy"});const s=t.getCreationRow();if(s&&s.getVisible()){e.renderControl(s)}this.renderHSbBackground(e,t);this.renderHSb(e,t);this._renderOverlay(e,t);n.writeHiddenAccTexts(e,t);e.close("div")};c.renderColumnResizer=function(e,t){e.openStart("div",t.getId()+"-rsz");e.class("sapUiTableColRsz");e.openEnd();e.close("div")};c.renderColumnHeader=function(e,n){const o=t.getHeaderRowCount(n);const s=n.getComputedFixedColumnCount();e.openStart("div",n.getId()+"-sapUiTableColHdrCnt");e.class("sapUiTableColHdrCnt");e.openEnd();this._renderSelectionHeader(e,n);this._renderFixedColumnHeader(e,n,{fixedColumnCount:s,headerRowCount:o});this._renderScrollableColumnHeader(e,n,{fixedColumnCount:s,headerRowCount:o});this._renderRowActionHeader(e,n);this._renderVSbHeader(e);e.close("div")};c._renderOverlay=function(e,t){e.openStart("div",t.getId()+"-overlay");e.class("sapUiTableOverlayArea");e.attr("tabindex","0");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"Overlay");e.openEnd();e.close("div")};c._renderBottomSection=function(e,n){e.openStart("div",n.getId()+"-after");e.openEnd();this.renderFooter(e,n);t.Hook.call(n,d.RenderInTableBottomArea,e);e.close("div")};c.renderHeader=function(e,t){const n=t.getTitle();if(!n){return}e.openStart("div");e.class("sapUiTableHdr");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TableHeader");e.openEnd();e.renderControl(n);e.close("div")};c.renderToolbar=function(e,n){const o=n.getToolbar();if(!t.isA(o,"sap.ui.core.Toolbar")){return}e.openStart("div");e.class("sapUiTableTbr");if(typeof o.getStandalone==="function"&&o.getStandalone()){o.setStandalone(false)}if(o.isA("sap.m.Toolbar")){o.setDesign("Transparent",true);o.addStyleClass("sapMTBHeader-CTX");e.class("sapUiTableMTbr")}n._getAccRenderExtension().writeAriaAttributesFor(e,n,"TableSubHeader");e.openEnd();e.renderControl(o);e.close("div")};c.renderExtensions=function(e,t){for(const n of t.getExtension()??[]){this.renderExtension(e,t,n)}};c.renderExtension=function(e,t,n){e.openStart("div");e.class("sapUiTableExt");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TableSubHeader");e.openEnd();e.renderControl(n);e.close("div")};c.renderFooter=function(e,t){const n=t.getFooter();if(!n){return}e.openStart("div");e.class("sapUiTableFtr");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"TableFooter");e.openEnd();e.renderControl(n);e.close("div")};c.renderTable=function(e,n){e.openStart("div",n.getId()+"-tableCCnt");t.Hook.call(n,d.RenderRowContainerStyles,e);e.class("sapUiTableCCnt");e.openEnd();this.renderTableCCnt(e,n);e.close("div")};c.renderTableCCnt=function(e,t){this.renderTableCtrl(e,t);this.renderRowHeader(e,t);this.renderRowActions(e,t);this._renderNoData(e,t)};c._renderNoData=function(e,n){e.openStart("div",n.getId()+"-noDataCnt");e.class("sapUiTableCtrlEmpty");e.attr("tabindex","0");n._getAccRenderExtension().writeAriaAttributesFor(e,n,"NoData");e.openEnd();const o=t.getNoContentMessage(n);if(t.isA(o,"sap.ui.core.Control")){e.renderControl(o)}else{e.openStart("span",n.getId()+"-noDataMsg");e.class("sapUiTableCtrlEmptyMsg");e.openEnd();e.text(o);e.close("span")}e.close("div")};c._renderFixedColumnHeader=function(e,t,n){if(n.fixedColumnCount===0){return}e.openStart("div");e.class("sapUiTableCHA");e.class("sapUiTableCtrlScrFixed");e.class("sapUiTableNoOpacity");e.openEnd();this.renderTableElement(e,t,{fixedColumns:true,startColumnIndex:0,endColumnIndex:n.fixedColumnCount,fixedTopRows:true,fixedBottomRows:false,startRowIndex:0,endRowIndex:n.headerRowCount,header:true});e.close("div")};c._renderScrollableColumnHeader=function(e,t,n){const o=t.getColumns();e.openStart("div",t.getId()+"-sapUiTableColHdrScr");e.class("sapUiTableCHA");e.class("sapUiTableCtrlScr");if(o.length===0){e.class("sapUiTableHasNoColumns")}if(n.fixedColumnCount>0){if(t._bRtlMode){e.style("margin-right","0")}else{e.style("margin-left","0")}}e.openEnd();this.renderTableElement(e,t,{fixedColumns:false,startColumnIndex:n.fixedColumnCount,endColumnIndex:o.length,fixedTopRows:false,fixedBottomRows:false,startRowIndex:0,endRowIndex:n.headerRowCount,header:true});e.close("div")};c._renderRowActionHeader=function(e,n){if(!t.hasRowActions(n)){return}e.openStart("div",n.getId()+"-rowacthdr");n._getAccRenderExtension().writeAriaAttributesFor(e,n,"RowActionHeader");e.class("sapUiTableCell");e.class("sapUiTableHeaderCell");e.class("sapUiTableRowActionHeaderCell");e.attr("tabindex","-1");e.attr("aria-label",t.getResourceText("TBL_ROW_ACTION_COLUMN_LABEL"));e.openEnd();e.close("div")};c._renderVSbHeader=function(e){e.openStart("div");e.class("sapUiTableVSbHeader");e.openEnd();e.close("div")};c._renderSelectionHeader=function(e,n){const o=n._getAccRenderExtension();e.openStart("div");o.writeAriaAttributesFor(e,n,"ColumnRowHeaderRow");e.openEnd();const s=t.getHeaderRowCount(n);if(s>1){for(let t=0;t<s-1;t++){e.openStart("div",n.getId()+"-rowcolhdr"+t);o.writeAriaAttributesFor(e,n,"ColumnRowHeaderCell",{bLabel:false});e.openEnd();e.close("div")}e.openStart("div",n.getId()+"-rowcolhdr"+(s-1))}else{e.openStart("div",n.getId()+"-rowcolhdr")}o.writeAriaAttributesFor(e,n,"ColumnRowHeaderCell",{bLabel:true});e.openEnd();e.renderControl(n._getHeaderSelector());e.close("div");e.close("div")};c.renderRowHeader=function(e,t){const n=t._getAccRenderExtension();const o=t.getRows();e.openStart("div",t.getId()+"-sapUiTableRowHdrScr");n.writeAriaAttributesFor(e,t,"Presentation");e.class("sapUiTableRowHdrScr");e.class("sapUiTableNoOpacity");n.writeAriaAttributesFor(e,t,"RowHeaderCol");e.openEnd();for(let n=0,s=o.length;n<s;n++){this.renderRowAddon(e,t,o[n],{rowIndex:n,isRowHeader:true})}e.close("div")};c.renderRowActions=function(e,n){if(!t.hasRowActions(n)&&!t.hasRowNavigationIndicators(n)){return}const o=n.getRows();e.openStart("div",n.getId()+"-sapUiTableRowActionScr");n._getAccRenderExtension().writeAriaAttributesFor(e,n,"Presentation");if(t.hasRowActions(n)){e.class("sapUiTableRowWithAction")}else{e.class("sapUiTableRowActionScr")}e.class("sapUiTableNoOpacity");e.openEnd();for(let t=0,s=o.length;t<s;t++){this.renderRowAddon(e,n,o[t],{rowIndex:t,isRowHeader:false})}e.close("div")};c.renderRowAddon=function(e,n,o,s){const a=o._isSelected();const l=n._getAccRenderExtension();e.openStart("div");l.writeAriaAttributesFor(e,n,"RowAddon");e.attr("data-sap-ui-related",o.getId());e.attr("data-sap-ui-rowindex",s.rowIndex);e.class("sapUiTableRow");e.class("sapUiTableContentRow");if(o.isContentHidden()){e.class("sapUiTableRowHidden")}else if(a){e.class("sapUiTableRowSel")}if(s.rowIndex%2!==0&&n.getAlternateRowColors()&&!t.Grouping.isInTreeMode(n)){e.class("sapUiTableRowAlternate")}this.addRowClasses(e,n,s.rowIndex);e.openEnd();e.openStart("div",n.getId()+(s.isRowHeader?"-rowsel":"-rowact")+s.rowIndex);e.class("sapUiTableCell");e.class("sapUiTableContentCell");e.class(s.isRowHeader?"sapUiTableRowSelectionCell":"sapUiTableRowActionCell");t.Hook.call(n,d.RenderRowStyles,e);e.attr("tabindex","-1");l.writeAriaAttributesFor(e,n,s.isRowHeader?"RowHeader":"RowAction",{rowSelected:a,rowHidden:o.isEmpty()});e.openEnd();if(s.isRowHeader){this.writeRowHighlightContent(e,n,o);this.writeRowSelectorContent(e,n,o)}else{const t=o.getRowAction();if(t){e.renderControl(t)}this.writeRowNavigationContent(e,n,o)}e.close("div");e.close("div")};c.renderTableCtrl=function(e,t){if(t.getComputedFixedColumnCount()>0){e.openStart("div",t.getId()+"-sapUiTableCtrlScrFixed");e.class("sapUiTableCtrlScrFixed");e.openEnd();this.renderTableControl(e,t,{fixedColumns:true});e.close("div")}e.openStart("div",t.getId()+"-sapUiTableCtrlScr");e.class("sapUiTableCtrlScr");if(t.getComputedFixedColumnCount()>0){if(t._bRtlMode){e.style("margin-right","0")}else{e.style("margin-left","0")}}e.openEnd();e.openStart("div",t.getId()+"-tableCtrlCnt");e.class("sapUiTableCtrlCnt");e.openEnd();this.renderTableControl(e,t,{fixedColumns:false});e.close("div");e.close("div")};c.renderTableControl=function(e,t,n){const o=t._getRowCounts();const s=t.getRows();let a;let l;if(n.fixedColumns){a=0;l=t.getComputedFixedColumnCount()}else{a=t.getComputedFixedColumnCount();l=t.getColumns().length}if(o.fixedTop>0){this.renderTableElement(e,t,{fixedColumns:n.fixedColumns,startColumnIndex:a,endColumnIndex:l,fixedTopRows:true,fixedBottomRows:false,startRowIndex:0,endRowIndex:o.fixedTop,header:false})}this.renderTableElement(e,t,{fixedColumns:n.fixedColumns,startColumnIndex:a,endColumnIndex:l,fixedTopRows:false,fixedBottomRows:false,startRowIndex:o.fixedTop,endRowIndex:s.length-o.fixedBottom,header:false});if(o.fixedBottom>0&&s.length>0){this.renderTableElement(e,t,{fixedColumns:n.fixedColumns,startColumnIndex:a,endColumnIndex:l,fixedTopRows:false,fixedBottomRows:true,startRowIndex:s.length-o.fixedBottom,endRowIndex:s.length,header:false})}};c.renderTableElement=function(e,t,n){const{fixedColumns:o,startColumnIndex:s,endColumnIndex:a,fixedTopRows:l,fixedBottomRows:i,startRowIndex:r,endRowIndex:d,header:c}=n;const u=this._buildTableSectionId(t,{fixedColumns:o,fixedTopRows:l,fixedBottomRows:i,header:c});e.openStart("table",u);this._decorateTableElement(e,t,{fixedColumns:o,fixedTopRows:l,fixedBottomRows:i,startColumnIndex:s,endColumnIndex:a,header:c});e.openEnd();this._renderTableHead(e,t,{fixedColumns:o,startColumnIndex:s,endColumnIndex:a,startRowIndex:r,header:c});this._renderTableBody(e,t,{fixedColumns:o,startColumnIndex:s,endColumnIndex:a,startRowIndex:r,endRowIndex:d,header:c});e.close("table")};c._buildTableSectionId=function(e,t){const{fixedColumns:n,fixedTopRows:o,fixedBottomRows:s,header:a}=t;const l=a?"-header":"-table";let i=e.getId()+l;if(n){i+="-fixed"}if(o){i+="-fixrow"}else if(s){i+="-fixrow-bottom"}return i};c._decorateTableElement=function(e,t,n){e.class(n.fixedColumns?"sapUiTableCtrlFixed":"sapUiTableCtrlScroll");if(n.fixedTopRows){e.class("sapUiTableCtrlRowFixed")}else if(n.fixedBottomRows){e.class("sapUiTableCtrlRowFixedBottom")}else{e.class("sapUiTableCtrlRowScroll")}if(n.header){e.class("sapUiTableCHT")}e.class("sapUiTableCtrl");t._getAccRenderExtension().writeAriaAttributesFor(e,t,n.header?"Presentation":"Table");e.style(n.fixedColumns?"width":"min-width",t._getColumnsWidth(n.startColumnIndex,n.endColumnIndex)+"px")};c._renderTableHead=function(e,t,n){e.openStart("thead").openEnd();const{fixedColumns:o,startColumnIndex:s,endColumnIndex:a,startRowIndex:l,header:i}=n;this._renderTableHeaderRow(e,t,{fixedColumns:o,startColumnIndex:s,endColumnIndex:a,startRowIndex:l,header:i});e.close("thead")};c._renderTableHeaderRow=function(e,t,n){e.openStart("tr");e.class("sapUiTableCtrlCol");if(n.startRowIndex===0){e.class("sapUiTableCtrlFirstCol")}if(n.header){e.class("sapUiTableCHTHR")}e.openEnd();const{fixedColumns:o,startColumnIndex:s,endColumnIndex:a,startRowIndex:l,header:i}=n;const r=this._prepareColumnData(t,{fixedColumns:o,startColumnIndex:s,endColumnIndex:a});this._renderTableColumns(e,t,{columnData:r,startColumnIndex:s,endColumnIndex:a,startRowIndex:l,header:i});if(r.bRenderDummyColumn){this._renderDummyColumnHeaderCell(e,t,{header:i})}e.close("tr")};c._prepareColumnData=function(e,n){const o=e.getColumns();const s=new Array(n.endColumnIndex);let a=!n.fixedColumns&&n.endColumnIndex>n.startColumnIndex;for(let e=n.startColumnIndex;e<n.endColumnIndex;e++){const l=o[e];const i={shouldRender:!!(l&&l.shouldRender())};if(i.shouldRender){let e=l.getWidth();if(t.isVariableWidth(e)){a=false;if(n.fixedColumns){l._iFixWidth=l._iFixWidth||160;e=l._iFixWidth+"px"}}else if(n.fixedColumns){delete l._iFixWidth}i.width=e}s[e]=i}return{aCols:o,aColParams:s,bRenderDummyColumn:a,aVisibleColumns:e._getVisibleColumns()}};c._renderTableColumns=function(e,n,o){const{columnData:s,startColumnIndex:a,endColumnIndex:l,startRowIndex:i,header:r}=o;const{aCols:d,aColParams:c,aVisibleColumns:u}=s;const C=n._getAccRenderExtension();if(d.length===0){e.openStart("th").openEnd().close("th");return}for(let o=a;o<l;o++){const s=r?"_hdr":"_col";const a=d[o];const l=c[o];if(l.shouldRender){if(i===0){e.openStart("th",n.getId()+s+o);C.writeAriaAttributesFor(e,n,"Th",{column:a})}else{e.openStart("th")}e.style("width",l.width);e.attr("data-sap-ui-headcolindex",o);e.attr("data-sap-ui-colid",a.getId());if(a===u[0]){e.class("sapUiTableFirstVisibleColumnTH")}e.openEnd();if(i===0&&t.getHeaderRowCount(n)===0&&!r){if(a.getMultiLabels().length>0){e.renderControl(a.getMultiLabels()[0])}else{e.renderControl(a.getLabel())}}e.close("th")}}};c._renderDummyColumnHeaderCell=function(e,t,n){e.openStart("th",n.header&&t.getId()+"-dummycolhdr");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"Presentation");e.openEnd();e.close("th")};c._renderTableBody=function(e,t,n){const{fixedColumns:o,startColumnIndex:s,endColumnIndex:a,startRowIndex:l,endRowIndex:i}=n;const r=this._prepareColumnData(t,{fixedColumns:o,startColumnIndex:s,endColumnIndex:a});e.openStart("tbody");e.openEnd();if(n.header){this._renderHeaderRows(e,t,{fixedColumns:o,startColumnIndex:s,endColumnIndex:a,startRowIndex:l,endRowIndex:i,renderDummyColumn:r.bRenderDummyColumn})}else{this._renderDataRows(e,t,{fixedColumns:o,startColumnIndex:s,endColumnIndex:a,startRowIndex:l,endRowIndex:i,visibleColumns:r.aVisibleColumns,renderDummyColumn:r.bRenderDummyColumn})}e.close("tbody")};c._renderHeaderRows=function(e,t,n){const{fixedColumns:o,startColumnIndex:s,endColumnIndex:a,renderDummyColumn:l}=n;for(let i=n.startRowIndex;i<n.endRowIndex;i++){this.renderColumnHeaderRow(e,t,{rowIndex:i,fixedColumns:o,startColumnIndex:s,endColumnIndex:a,renderDummyColumn:l,isLastRow:i===n.endRowIndex-1})}};c._renderDataRows=function(e,t,n){const{fixedColumns:o,startColumnIndex:s,endColumnIndex:a,visibleColumns:l,renderDummyColumn:i}=n;const r=t.getRows();if(r.length===0){return}const d=t.getDragDropConfig().some(function(e){return e.isDraggable(t,"rows")});const c=this.getLastFixedColumnIndex(t);for(let u=n.startRowIndex;u<n.endRowIndex;u++){this.renderDataRow(e,t,r[u],{rowIndex:u,fixedColumns:o,startColumnIndex:s,endColumnIndex:a,visibleColumns:l,lastFixedColumnIndex:c,renderDummyColumn:i,draggable:d})}};c.writeRowSelectorContent=function(e,n,o){n._getAccRenderExtension().writeAccRowSelectorText(e,n,o);if(t.Grouping.isInGroupMode(n)){e.openStart("div");e.class("sapUiTableGroupShield");e.openEnd();e.close("div");e.openStart("div",o.getId()+"-groupHeader");e.class("sapUiTableGroupIcon");e.openEnd();e.close("div")}};c.writeRowHighlightContent=function(e,n,o){if(!t.hasRowHighlights(n)){return}const s=o.getAggregation("_settings");const a=s._getHighlightCSSClassName();e.openStart("div",o.getId()+"-highlight");e.class("sapUiTableRowHighlight");e.class(a);e.openEnd();n._getAccRenderExtension().writeAccRowHighlightText(e,n,o);e.close("div")};c.writeRowNavigationContent=function(e,n,o){if(!t.hasRowNavigationIndicators(n)){return}const s=o.getAggregation("_settings");e.openStart("div",o.getId()+"-navIndicator");if(s.getNavigated()){e.class("sapUiTableRowNavigated")}e.openEnd();e.close("div")};c.renderColumnHeaderRow=function(e,t,n){const{rowIndex:o,fixedColumns:s,startColumnIndex:a,endColumnIndex:l,isLastRow:i}=n;const r=t._getAccRenderExtension();e.openStart("tr");e.class("sapUiTableRow");e.class("sapUiTableHeaderRow");e.class("sapUiTableColHdrTr");r.writeAriaAttributesFor(e,t,"ColumnHeaderRow",{rowIndex:o,fixedCol:s});e.openEnd();const d=this.getColumnsToRender(t,a,l);const c=this._collectHeaderSpans(d,o);this._renderHeaderColumns(e,t,d,{rowIndex:o,fixedColumns:s,lastVisibleColumnIndex:c,isLastRow:i});if(!s&&n.renderDummyColumn&&d.length>0){this._renderDummyColumnContentCell(e,t)}e.close("tr")};c._collectHeaderSpans=function(e,n){let o=0;let s=-1;e.forEach(function(e,a,l){let i=t.Column.getHeaderSpan(e,n);let r;if(o<1){if(i>1){r=e.getIndex();i=l.slice(a+1,a+i).reduce(function(e,t){return t.getIndex()-r<i?e+1:e},1)}e._nSpan=o=i;s=a}else{e._nSpan=0}o--});return s};c._renderHeaderColumns=function(e,t,n,o){n.forEach((n,s)=>{this.renderColumnHeaderCell(e,t,n,{rowIndex:o.rowIndex,span:n._nSpan,isFirstColumn:s===0,isLastFixedColumn:o.fixedColumns&&s===o.lastVisibleColumnIndex,isLastColumn:!o.fixedColumns&&s===o.lastVisibleColumnIndex,renderIcons:n._nSpan===1&&!n._bIconsRendered});n._bIconsRendered=n._bIconsRendered||n._nSpan===1;delete n._nSpan;if(o.isLastRow){delete n._bIconsRendered}})};c.renderColumnHeaderCell=function(e,t,n,o){const s=o.rowIndex===0?n.getId():`${n.getId()}_${o.rowIndex}`;e.openStart("td",o.rowIndex===0?n:s);this._decorateColumnHeaderCell(e,t,n,{span:o.span,isFirstColumn:o.isFirstColumn,isLastFixedColumn:o.isLastFixedColumn,isLastColumn:o.isLastColumn,renderIcons:o.renderIcons,headerId:s});e.openEnd();e.openStart("div",s+"-inner");this._decorateColumnHeaderCellInner(e,t,n,{isFirstColumn:o.isFirstColumn});e.openEnd();e.openStart("div");e.style("justify-content",r[n.getHAlign()]);e.openEnd();this._renderColumnHeaderCellContent(e,n,{rowIndex:o.rowIndex});e.close("div");e.close("div");e.close("td")};c._decorateColumnHeaderCell=function(e,t,n,o){const{span:s,headerId:a,isFirstColumn:l,isLastFixedColumn:i,isLastColumn:r,renderIcons:d}=o;this._setColumnHeaderCellAttributes(e,t,n,{span:s,headerId:a});this._setColumnHeaderCellStyles(e,t);this._addColumnHeaderCellClasses(e,t,n,{isFirstColumn:l,isLastFixedColumn:i,isLastColumn:r,isHiddenBySpan:!s,renderIcons:d})};c._setColumnHeaderCellAttributes=function(e,t,n,o){e.attr("data-sap-ui-related",n.getId());e.attr("data-sap-ui-colid",n.getId());e.attr("data-sap-ui-colindex",n.getIndex());e.attr("tabindex","-1");if(o.span>1){e.attr("colspan",o.span)}const s=n.getTooltip_AsString();if(s){e.attr("title",s)}t._getAccRenderExtension().writeAriaAttributesFor(e,t,"ColumnHeader",{column:n,headerId:o.headerId,colspan:o.span>1})};c._setColumnHeaderCellStyles=function(e,t){const n=t.getColumnHeaderHeight();if(n>0){e.style("height",n+"px")}};c._addColumnHeaderCellClasses=function(e,t,n,o){e.class("sapUiTableCell");e.class("sapUiTableHeaderCell");e.class("sapUiTableHeaderDataCell");const s=n.getHeaderMenuInstance();if(t.getEnableColumnReordering()||s&&s.getAriaHasPopupType()!=="None"){e.class("sapUiTableHeaderCellActive")}if(!t.getEnableColumnReordering()&&!t.hasListeners("columnSelect")&&!s&&n._menuHasItems()){e.class("sapUiTableHeaderCellActive")}if(o.isHiddenBySpan){e.class("sapUiTableHidden")}const{isFirstColumn:a,isLastFixedColumn:l,isLastColumn:i}=o;this._addCellPositionClasses(e,{isFirstColumn:a,isLastFixedColumn:l,isLastColumn:i});if(o.renderIcons){this._addColumnSortAndFilterClasses(e,n)}};c._addColumnSortAndFilterClasses=function(e,t){const n=t.getFiltered();let o=t.getSortOrder()!==i.None;if(n){e.class("sapUiTableColFiltered")}if(!t.getSorted()){o=false}if(o){e.class("sapUiTableColSorted");if(t.getSortOrder()===i.Descending){e.class("sapUiTableColSortedD")}}};c._decorateColumnHeaderCellInner=function(e,n,s,a){const l=s.getHAlign();e.class("sapUiTableCellInner");if(!t.hasRowHeader(n)&&a.isFirstColumn&&!t.hasRowHighlights(n)&&!t.Grouping.isInTreeMode(n)){e.class("sapUiTableFirstColumnCell")}const i=o.getTextAlign(l);if(i){e.style("text-align",i)}};c._renderColumnHeaderCellContent=function(e,t,n){const o=t.getAggregation("_action");const s=this._getColumnLabel(t,n.rowIndex);if(o&&n.rowIndex===0){if(t.getMultiLabels().length>0){l.error(`${t}: ColumnAIAction is not compatible with multi labels`)}else{e.renderControl(o)}}if(s){e.renderControl(s)}};c._getColumnLabel=function(e,t){const n=e.getMultiLabels();if(n.length>0){return n[t]}else if(t===0){return e.getLabel()}return undefined};c.renderDataRow=function(e,t,n,o){const{rowIndex:s,fixedColumns:a,draggable:l}=o;if(a){e.openStart("tr",n.getId()+"-fixed")}else{e.openStart("tr",n)}this._decorateDataRow(e,t,n,{rowIndex:s,fixedColumns:a,draggable:l});e.openEnd();const{startColumnIndex:i,endColumnIndex:r,visibleColumns:d,lastFixedColumnIndex:c,renderDummyColumn:u}=o;this._renderDataCells(e,t,n,{fixedColumns:a,startColumnIndex:i,endColumnIndex:r,visibleColumns:d,lastFixedColumnIndex:c,renderDummyColumn:u});e.close("tr")};c._decorateDataRow=function(e,n,o,s){const{rowIndex:a,fixedColumns:l,draggable:i}=s;this._setDataRowAttributes(e,n,o,{rowIndex:a,fixedColumns:l,draggable:i});this._addDataRowClasses(e,n,o,{rowIndex:a});t.Hook.call(n,d.RenderRowStyles,e)};c._setDataRowAttributes=function(e,t,n,o){e.attr("data-sap-ui-rowindex",o.rowIndex);if(o.fixedColumns){e.attr("data-sap-ui-related",n.getId())}if(o.draggable&&o.fixedColumns){e.attr("draggable","true");e.attr("data-sap-ui-draggable","true")}t._getAccRenderExtension().writeAriaAttributesFor(e,t,"Tr",{index:o.rowIndex,fixedCol:o.fixedColumns,rowNavigated:n.getAggregation("_settings")?.getNavigated()??false})};c._addDataRowClasses=function(e,n,o,s){e.class("sapUiTableRow");e.class("sapUiTableContentRow");e.class("sapUiTableTr");if(o.isContentHidden()){e.class("sapUiTableRowHidden")}else if(o._isSelected()){e.class("sapUiTableRowSel")}if(s.rowIndex%2!==0&&n.getAlternateRowColors()&&!t.Grouping.isInTreeMode(n)){e.class("sapUiTableRowAlternate")}this.addRowClasses(e,n,s.rowIndex)};c.addRowClasses=function(e,n,o){const s=n._getRowCounts();const a=t.getFirstFixedBottomRowIndex(n);if(o===0){e.class("sapUiTableFirstRow")}else if(o===n.getRows().length-1){e.class("sapUiTableLastRow")}if(s.fixedTop>0){if(o===s.fixedTop-1){e.class("sapUiTableRowLastFixedTop")}if(o===s.fixedTop){e.class("sapUiTableRowFirstScrollable")}}if(a>=0&&a===o){e.class("sapUiTableRowFirstFixedBottom")}else if(a>=1&&a-1===o){e.class("sapUiTableRowLastScrollable")}};c._renderDataCells=function(e,t,n,o){const s=n.getCells();const{fixedColumns:a,startColumnIndex:l,endColumnIndex:i,visibleColumns:r,lastFixedColumnIndex:d}=o;for(let o=0,c=s.length;o<c;o++){this._renderDataCell(e,t,n,s[o],{cellIndex:o,fixedColumns:a,startColumnIndex:l,endColumnIndex:i,visibleColumns:r,lastFixedColumnIndex:d})}if(!o.fixedColumns&&o.renderDummyColumn&&s.length>0){this._renderDummyColumnContentCell(e,t)}};c._renderDummyColumnContentCell=function(e,t){e.openStart("td").class("sapUiTableCellDummy");t._getAccRenderExtension().writeAriaAttributesFor(e,t,"Presentation");e.openEnd();e.close("td")};c._renderDataCell=function(t,n,o,s,a){const l=e.ofCell(s);const i=l.getIndex();const r=l.shouldRender()&&a.startColumnIndex<=i&&a.endColumnIndex>i;if(!r){return}const d=a.visibleColumns.length;const c=d>0&&a.visibleColumns[0]===l;const u=d>0&&a.visibleColumns[d-1]===l;const C=a.fixedColumns&&a.lastFixedColumnIndex===i;t.openStart("td",o.getId()+"-col"+a.cellIndex);this._decorateDataCell(t,n,l,{isFirstColumn:c,isLastFixedColumn:C,isLastColumn:u});t.openEnd();this._renderDataCellContent(t,n,s,l,a.visibleColumns);t.close("td")};c._decorateDataCell=function(e,t,n,o){const{isFirstColumn:s,isLastFixedColumn:a,isLastColumn:l}=o;this._setDataCellAttributes(e,t,n);this._setDataCellStyles(e,n);this._addDataCellClasses(e,t,{isFirstColumn:s,isLastFixedColumn:a,isLastColumn:l})};c._setDataCellAttributes=function(e,t,n){e.attr("tabindex","-1");e.attr("data-sap-ui-colid",n.getId());t._getAccRenderExtension().writeAriaAttributesFor(e,t,"DataCell",{column:n})};c._setDataCellStyles=function(e,t){const n=o.getTextAlign(t.getHAlign());if(n){e.style("text-align",n)}};c._addDataCellClasses=function(e,n,o){e.class("sapUiTableCell");e.class("sapUiTableContentCell");e.class("sapUiTableDataCell");const{isFirstColumn:s,isLastFixedColumn:a,isLastColumn:l}=o;this._addCellPositionClasses(e,{isFirstColumn:s,isLastFixedColumn:a,isLastColumn:l});if(o.isFirstColumn&&t.Grouping.isInTreeMode(n)){e.class("sapUiTableCellFlex")}};c._addCellPositionClasses=function(e,t){if(t.isFirstColumn){e.class("sapUiTableCellFirst")}if(t.isLastFixedColumn){e.class("sapUiTableCellLastFixed")}if(t.isLastColumn){e.class("sapUiTableCellLast")}};c._renderDataCellContent=function(e,n,o,s,a){const l=a.length;const i=l>0&&a[0]===s;e.openStart("div");e.class("sapUiTableCellInner");if(!t.hasRowHeader(n)&&i&&!t.hasRowHighlights(n)&&!t.Grouping.isInTreeMode(n)){e.class("sapUiTableFirstColumnCell")}t.Hook.call(n,d.RenderCellContentStyles,e);e.openEnd();this.renderDataCellControl(e,n,o,{isFirstColumn:i});e.close("div")};c.renderDataCellControl=function(e,n,o,s){if(s.isFirstColumn&&t.Grouping.isInTreeMode(n)){const t=o.getParent();e.openStart("span",t.getId()+"-treeicon");e.class("sapUiTableTreeIcon");e.attr("tabindex","0");n._getAccRenderExtension().writeAriaAttributesFor(e,n,"TreeIcon",{row:t});e.openEnd();e.close("span")}e.renderControl(o)};c.renderVSb=function(e,t,n){const o=t._getScrollExtension();e.openStart("div");e.class("sapUiTableVSbContainer");if(!o.isVerticalScrollbarRequired()){e.class("sapUiTableHidden")}e.class(n?.cssClass);e.openEnd();e.openStart("div",t.getId()+"-vsb");e.class("sapUiTableVSb");e.style("max-height",o.getVerticalScrollbarHeight()+"px");e.attr("tabindex","-1");e.openEnd();e.openStart("div");e.class("sapUiTableVSbContent");e.style("height",o.getVerticalScrollHeight()+"px");e.openEnd();e.close("div");e.close("div");e.close("div")};c.renderVSbExternal=function(e,t){if(n.isEnrichedWith(t,"sap.ui.table.extensions.Synchronization")){this.renderVSb(e,t,{cssClass:"sapUiTableVSbExternal"})}else{l.error("This method can only be used with synchronization enabled.",t,"TableRenderer.renderVSbExternal")}};c.renderHSb=function(e,t,n){n=Object.assign({id:t.getId()+"-hsb",cssClass:"sapUiTableHSb",hidden:true,scrollWidth:0},n);e.openStart("div",n.id);e.class(n.cssClass);if(n.hidden){e.class("sapUiTableHidden")}e.attr("tabindex","-1");e.openEnd();e.openStart("div",n.id+"-content");e.class("sapUiTableHSbContent");if(n.scrollWidth>0){e.style("width",n.scrollWidth+"px")}e.openEnd();e.close("div");e.close("div")};c.renderHSbExternal=function(e,t,o){if(n.isEnrichedWith(t,"sap.ui.table.extensions.Synchronization")){this.renderHSb(e,t,{id:o.id,cssClass:"sapUiTableHSbExternal",hidden:false,scrollWidth:o.scrollWidth})}else{l.error("This method can only be used with synchronization enabled.",t,"TableRenderer.renderHSbExternal")}};c.renderHSbBackground=function(e,t){e.openStart("div",t.getId()+"-hsb-bg");e.class("sapUiTableHSbBg");e.openEnd();e.close("div")};c.renderTabElement=function(e,t){e.openStart("div",t.id);if(t.className){e.class(t.className)}e.attr("role","none");e.attr("tabindex",t.tabIndex==null?"0":String(t.tabIndex));e.openEnd().close("div")};c.getColumnsToRender=function(e,t,n){return e.getColumns().slice(t,n).filter(function(e){return e&&e.shouldRender()})};c.getLastFixedColumnIndex=function(e){const t=e.getComputedFixedColumnCount();const n=e.getColumns();let o=-1;for(let e=t-1;e>=0;e--){if(n[e].shouldRender()){o=e;break}}return o};return c},true);
//# sourceMappingURL=TableRenderer.js.map