/*!
 * SAPUI5
 * (c) Copyright 2025 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/changeHandler/condenser/Classification"],function(e,r){"use strict";var t={};t.applyChange=function(e,r,t){var o=t.modifier;var n=t.appComponent;var a=t.view;var i=e.getContent();var g=e.getTexts();if(g&&g.groupLabel&&g.groupLabel.value&&i&&i.group&&(i.group.selector||i.group.id)){var u=g.groupLabel.value;var s=i.group.index;var p=i.group.selector;return Promise.resolve().then(o.createControl.bind(o,"sap.ui.comp.smartform.Group",n,a,i.group.selector||i.group.id)).then(function(t){if(!p){p=o.getSelector(i.group.id,n)}e.setRevertData({newGroupSelector:p});o.setProperty(t,"visible",true);o.setProperty(t,"title",u);return o.insertAggregation(r,"groups",t,s,a)})}return Promise.resolve()};t.completeChangeContent=function(r,t,o){var n=o.appComponent;var a={group:{}};if(t.newLabel){r.setText("groupLabel",t.newLabel,"XFLD")}else{throw new Error("oSpecificChangeInfo.groupLabel attribute required")}if(t.index===undefined){throw new Error("oSpecificChangeInfo.index attribute required")}else{a.group.index=t.index}if(t.newControlId){a.group.selector=e.getSelector(t.newControlId,n)}else{throw new Error("oSpecificChangeInfo.newControlId attribute required")}r.setContent(a)};t.revertChange=function(e,r,t){var o=t.appComponent;var n=t.view;var a=t.modifier;var i=e.getRevertData().newGroupSelector;var g=a.bySelector(i,o,n);return Promise.resolve().then(a.removeAggregation.bind(a,r,"groups",g)).then(function(){a.destroy(g);e.resetRevertData()})};t.getChangeVisualizationInfo=function(e){var r=e.getText("groupLabel");return{affectedControls:[e.getContent().group.selector],descriptionPayload:{originalLabel:r}}};t.getCondenserInfo=function(e,t){const o=e.getContent();const n=t.modifier;const a=t.appComponent;const i=t.view;const g=n.bySelector(o.group.selector,a,i);let u=g.getParent().getParent();while(u&&!u.isA("sap.ui.comp.smartform.SmartForm")&&u.getParent){u=u.getParent()}return{affectedControl:o.group.selector,classification:r.Create,targetContainer:u.getId(),targetAggregation:"groups",setTargetIndex(e,r){const t=e.getContent();t.group.index=r;e.setContent(t)},getTargetIndex(e){return e.getContent().group.index}}};return t},true);
//# sourceMappingURL=AddGroup.js.map